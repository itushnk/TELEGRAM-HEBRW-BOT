<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>ניהול פוסטים ממתינים</title>
    <style>
        body { font-family: 'Segoe UI', sans-serif; direction: rtl; padding: 40px; background-color: #f4f4f4; }
        h1 { color: #333; }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; background: white; }
        th, td { padding: 10px; border: 1px solid #ccc; text-align: right; vertical-align: top; }
        img { max-width: 120px; height: auto; }
        .actions button {
            padding: 6px 12px;
            margin: 5px;
            border: none;
            cursor: pointer;
            border-radius: 4px;
        }
        .approve { background-color: #4CAF50; color: white; }
        .reject { background-color: #f44336; color: white; }
    </style>
</head>
<body>
    <h1>📋 ניהול פוסטים ממתינים</h1>
    <table>
        <thead>
            <tr>
                <th>תמונה</th>
                <th>מלל הפוסט</th>
                <th>פעולה</th>
            </tr>
        </thead>
        <tbody>
        {% for post in posts %}
            <tr>
                <td><img src="{{ post['ImageURL'] }}" alt="Product Image"></td>
                <td><pre>{{ post['PostText'] }}</pre></td>
                <td class="actions">
                    <form method="POST" action="/update_status">
                        <input type="hidden" name="index" value="{{ loop.index0 }}">
                        <button class="approve" type="submit" name="action" value="approve">✔️ אשר</button>
                        <button class="reject" type="submit" name="action" value="reject">❌ דחה</button>
                    </form>
                </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
</body>
</html>
